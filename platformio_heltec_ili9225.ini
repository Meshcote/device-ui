[env:heltec-lora-wifi-v3-ili9225]
platform = espressif32
board = heltec_wifi_lora_32_V3
framework = arduino

; ESP32-S3 sin PSRAM
board_build.arduino.memory_type = qio_opi
board_build.flash_mode = qio
board_build.partitions = huge_app.csv

build_flags = 
    ; Sin PSRAM - optimización crítica
    -DBOARD_HAS_PSRAM=0
    -DILI9225_DISPLAY=1
    -DCORE_DEBUG_LEVEL=3
    
    ; Optimizaciones de memoria
    -Os
    -DLVGL_MEM_SIZE=49152
    -DLV_CONF_INCLUDE_SIMPLE
    
    ; Pines ILI9225 según hardware del usuario
    -DTFT_CS=7
    -DTFT_DC=5
    -DTFT_RST=6
    -DTFT_MOSI=4
    -DTFT_SCLK=3
    -DTFT_BL=2
    
    ; Pines SD Card (opcional)
    -DSD_CS=1
    -DSD_MOSI=38
    -DSD_MISO=39
    -DSD_SCK=40
    
    ; Tamaño de pantalla ILI9225
    -DSCREEN_WIDTH=176
    -DSCREEN_HEIGHT=220
    
    ; Incluir configuración TFT personalizada
    -DUSER_SETUP_LOADED=1
    -include include/graphics/TFT_Config.h

lib_deps = 
    lvgl/lvgl @ ^9.0.0
    bodmer/TFT_eSPI @ ^2.5.0

monitor_speed = 115200
upload_speed = 921600
monitor_filters = esp32_exception_decoder
